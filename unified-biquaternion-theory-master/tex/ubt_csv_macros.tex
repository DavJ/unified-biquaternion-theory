
% ubt_csv_macros.tex
% Loads CSV data and exposes a few convenience macros.
\RequirePackage{pgfplotstable}
\pgfplotsset{compat=1.18}

% === Alpha running table loader ===
\pgfplotstableread[col sep=comma]{../validation/alpha_running_table.csv}\UBTAlphaTable

% Helper to extract alpha(mu) by row index (0-based)
% Usage: \UBTAlphaAtRow{<row>}{\macro}
\newcommand{\UBTAlphaAtRow}[2]{%
  \pgfplotstablegetelem{#1}{alpha_mu}\of\UBTAlphaTable
  \expandafter\def\csname #2\endcsname{\pgfplotsretval}%
}

% Predefine example macros for common rows (assuming rows: mu=1,10,100,1000)
\UBTAlphaAtRow{0}{AlphaAt1MeV}
\UBTAlphaAtRow{1}{AlphaAt10MeV}
\UBTAlphaAtRow{2}{AlphaAt100MeV}
\UBTAlphaAtRow{3}{AlphaAt1000MeV}

% === Lepton masses (STRICT m0=1 MeV) ===
\pgfplotstableread[col sep=comma]{../validation/lepton_masses_STRICT_m0_1MeV.csv}\UBTLeptonTable

% Extractors for the single-row lepton CSV
% Usage: \UBTLeptonVal{<column name>}{\macro}
\newcommand{\UBTLeptonVal}[2]{%
  \pgfplotstablegetelem{0}{#1}\of\UBTLeptonTable
  \expandafter\def\csname #2\endcsname{\pgfplotsretval}%
}

% Define convenient macros
\UBTLeptonVal{m0_MeV}{UBTmZeroMeV}
\UBTLeptonVal{me_MeV}{UBTMeMeV}
\UBTLeptonVal{mmu_MeV}{UBTMuMeV}
\UBTLeptonVal{mtau_MeV}{UBTTauMeV}
\UBTLeptonVal{mmu_over_me}{UBTRatioMuOverE}
\UBTLeptonVal{mtau_over_me}{UBTRatioTauOverE}
\UBTLeptonVal{mtau_over_mmu}{UBTRatioTauOverMu}
